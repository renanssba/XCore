
//DEBUG
set_screen "girl_interaction_screen"
//set_var conhece_beatrice 1
//goto ir_beatrice
//goto ir_anna
//goto ir_clara

fade_out 1
wait 1
say "" "Daniel se arruma e vai para a festa."
fade_music 0 1
wait 1.5
theater_bg "house afternoon"
theater_setup main "person(daniel)" "main"

move_camera "main_and_enemy" 0

play_music "date2_intro" "date2_loop"
fade_in 1

say "" "Chegando na entrada, o garoto percebe que a casa de Clara é enorme e está lotada de gente."
move_camera "close_focus_main" 0.5
wait 1.0
actor_face main "left"
wait 0.8
actor_face main "right"
wait 0.8
say "Daniel" "(Uau. Quanta... gente que eu não conheço.)"
actor_move main "grid_5" 1.5

fade_out 1.0
say "" "Ele passeia por alguns cômodos e corredores da casa, sentindo-se deslocado, e não encontra ninguém conhecido."
wait 0.5
theater_setup  main "person(daniel)" "out_left" claire "person(claire)" "grid_5" anna "person(anna)" "out_left" beatrice "person(beatrice)" "out_left"
move_camera "girl_interaction" 0
fade_in 1.0
actor_move main "grid_2" 1.0
actor_face claire "left"
say "Daniel" "(Hum, onde será que tá a Clara?)"
say "" "É um salão grande e barulhento: tem música tocando, muitas pessoas conversando e algumas dando uns amassos pelos cantos."
move_camera "main_and_enemy" 1.0
say "" "Daniel avista Clara. Ela está cercada por um grande grupo de pessoas, conversando animadamente."
actor_move main "out_left" 0
actor_move anna "grid_2" 0
move_camera "girl_interaction" 1.0
say "Ana está do outro lado da sala, conversando com um rapaz popular. Ela parece estar levemente alterada e abraçando-o contra a vontade dele."
if conhece_beatrice == 1
  actor_move beatrice "grid_5" 0
  actor_face beatrice "right"
  actor_move claire "out_right" 0
  move_camera "main_and_enemy" 1.0
  say "Ele percebe que Beatrice também está na sala, sozinha num canto. A garota observa as pessoas na festa com curiosidade."
  actor_move main "main" 0
  actor_move anna "out_left" 0
  //move_camera "girl_interaction" 1.0
  move_camera "close_focus_main" 1.0
  say_auto "Daniel" "(O que eu deveria fazer?)"
  choices "Ir atrás de Ana" ir_ana "Ir atrás de Beatrice" ir_beatrice "Ir atrás de Clara" ir_clara
else
  actor_move main "enemy" 0
  actor_move claire "out_right" 0
  move_camera "close_focus_enemy" 1.0
  say_auto "Daniel" "(O que eu deveria fazer?)"
  choices "Ir atrás de Ana" ir_ana "Ir atrás de Clara" ir_clara
endif

waypoint ir_ana
set_current_couple 1
fade_out 1.0
wait 1.0
theater_setup main "person(daniel)" "grid_5" anna "person(anna)" "grid_2" guy "valentao" "out_left" guy1 "valentao" "out_left" guy2 "valentao" "out_left"
move_camera "girl_interaction" 0
actor_move guy -1.7 0 -0.4 0
actor_face main "left"
actor_face anna "left"
fade_in 1.0
actor_move main "grid_3" 1.0

if #currentRelationshipHeartLocksOpened < 2
  say "" "Daniel chega mais perto de Ana e encosta em seu ombro."
  say "Daniel" "Tá tudo bem, Ana?"
  wait 0.2
  actor_face anna "right"
  wait 0.5
  say "" "A garota, meio tonta, responde com uma voz amaciada."
  say "Ana" "Eu tô ótima. Tá tudo bem por aqui."
  say "" "Percebendo que a garota está alterada, Daniel fica preocupado."
  say "Daniel" "Eu não acho que esteja tudo bem, Ana. Vem comigo, eu te levo pra casa."
  say "Ana" "Sai! Para de me tratar como criança. Você não é o meu pai!"
  actor_move anna "grid_3" 0.3
  wait 0.1
  play_sfx "pushing_person"
  actor_move anna "grid_2" 0.5
  say "" "A garota empurra Daniel pra longe e se volta novamente para o outro rapaz com quem estava conversando."
  wait 0.5
  actor_face anna "left"
  wait 0.5
  say "Daniel" "(...)"
  goto bad_end
endif

say "" "Daniel chega mais perto de Ana. Ele acena para a amiga discretamente, mas ela está distraída com o rapaz."
say "Ana" "Você é tão lindo, deixa eu te dar um beijo!"
say "Rapaz" "Sai daqui, para com isso!"
say "" "O rapaz parece estar resistindo aos avanços de Ana."
say "Ela parece estar um pouco alterada. Será que ela exagerou no sorvete?"
say "Ana" "Vem cá, só um beijinho."
say "Rapaz" "Sai daqui, sua maluca!"
play_sfx "pushing_person"
actor_move guy -1.5 0.22 -0.4 0.3
wait 0.1
actor_move guy -1.7 0 -0.4 0.5
actor_move anna -0.7 0 -0.4 0.3
//
//say "" "O rapaz empurra Ana com força, livrando-se do abraço e derrubando a garota no chão, no meio da sala."
say "" "O rapaz empurra Ana com força, livrando-se do abraço. A garota quase cai no chão, mas Daniel a segura."
play_sfx "surprise_gasp"
say "Todos se viram para eles dois neste momento. Ouve-se uma exclamação de surpresa do grupo, seguida de um silêncio desconfortante."
say "Daniel" "Ana!"
//say "" "Daniel corre até Ana e a ajuda a se levantar."
say "Daniel" "Você tá bem?"
say "" "Ela fica em silêncio, cabisbaixa, mas não parece estar machucada. Furioso, Daniel grita:"
say "Daniel" "Qual é, seu covarde! Por que você fez isso com ela?!"
say "Rapaz" "Essa maluca tava tentando me agarrar aqui."
say "Daniel" "Não te dá o direito de empurrá-la desse jeito!"
say "Rapaz" "Fica na tua aí, tu não tem nada a ver com isso."
actor_move guy1 -1.6 0 -0.3 0.5
actor_move guy2 -1.9 0 -0.3 0.6
say "" "Mais dois amigos fortes do rapaz popular se aproximaram, fazendo uma cara ameaçadora."
say "" "Daniel hesita diante dos garotos mais fortes, e em seguida se vira para Ana."
say "Ela está cabisbaixa e parece estar chorando baixinho."
say "Daniel" "Vem, vamos sair daqui."
say "" "Ele segura a mão da garota e a puxa para fora do salão da festa."
actor_face main "right"
wait 0.1
actor_face anna "right"
wait 0.3
actor_move main "grid_5" 1.2
actor_move anna "grid_5" 1.2
say "" "Muita gente começa a cochichar coisas e rir baixinho enquanto os dois saem da sala."


fade_out 1
wait 1.2
theater_bg "claire house external"
theater_setup main "person(daniel)" "out_left" anna "person(anna)" "out_left"
move_camera "girl_interaction" 0
say "" "Os dois chegam ao jardim da casa, onde há poucas pessoas e está mais silencioso."
fade_in 1

actor_move main "grid_3" 1.5
actor_move anna "grid_2" 1.2
wait 1.5
actor_face main "left"
wait 0.2
say "Ana continua chorando baixinho. Sem saber o que fazer, Daniel a abraça."
actor_move main -1.1 0 -0.4 1.0
move_camera -1.2 1.3 -2.8 1.0
wait 1.0
say "Ana" "Me desculpa..."
say "Daniel" "Calma, vai ficar tudo bem."
say "Ana" "Me desculpa, desculpa..."
say "" "Ana não tem o costume de chorar. Alguma coisa deve estar deixando-a muito angustiada."
say "Daniel" "Tá tudo bem... Não precisa pedir desculpa. Eu não sabia que você gostava daquele idiota."
say "Ana" "Eu.. Eu não gosto... Mas a pessoa que eu gosto.. *snif* nunca vai ficar comigo..."
say "" "Daniel parece surpreso com a frase."
say "Daniel" "A pessoa de quem você gosta?"
say "Ana" "Eu... *snif* só não queria ficar sozinha..."
wait 1
say "Daniel" "A... pessoa de quem você gosta?"
say "Ana" "É! Não me faz falar isso, seu idiota!"
say "" "Daniel fica apreensivo."
say "Daniel" "Q-quem é a pessoa de quem você gosta?"
say "Ana" "É VOCÊ, SEU BURRO!"
say "Daniel" "!!!"
wait 1
say "Daniel" "Eu.. eu não sabia."
say "Ana" "Eu sempre gostei de você, mas você nunca percebeu. Você só tinha olhos pra Clara."
say "Daniel" "Ana..."
say "Ana" "Embora a gente sempre tivesse junto, você nunca enxergou meus sentimentos, só me via como amiga."
say "Daniel" "Você.."
say "Ana" "...Me desculpa."
say "Daniel" "Quem disse que eu só te vejo como amiga?"
say "Ana" "O quê?"
say "Daniel" "Você é muito mais que uma amiga pra mim. Eu jamais aceitaria te perder."
say "Ana" "O que você tá dizendo?"
say "Daniel" "Que.. que eu quero ficar junto contigo pra sempre. Como a gente sempre esteve!"
say "Ana" "É... sério?"
say "Daniel" "Sério!"
say "Ana" "A gente pode ir... num encontro?"
say "Daniel" "Claro! Quando você quiser."

unlock_skill 12
add_exp false 150
goto end



waypoint ir_beatrice
set_current_couple 2
fade_out 1.0
wait 1.0
theater_setup main "person(daniel)" "out_left" beatrice "person(beatrice)" "grid_3"
move_camera "girl_interaction" 0
actor_face main "right"
fade_in 1.0
actor_move main "grid_2" 1.5
wait 0.3
say "" "Daniel chega mais perto de Beatrice."
say "Daniel" "Oi, que bom que veio! Fiquei em dúvida se você viria."
say "Beatrice" "Eu tive de vir. Essa é uma oportunidade única para estudar relacionamentos."
if #currentRelationshipHeartLocksOpened < 2
//DEBUG BELOW, COMMENT IT AND UNCOMMENT ABOVE LINE LATER:
//if #currentRelationshipHeartLocksOpened < 0
  actor_face beatrice "left"
  wait 0.6
  say "Beatrice" "Eu gostaria de ficar sozinha observando as pessoas."
  actor_face beatrice "right"
  wait 0.3
  actor_move beatrice "grid_5" 2.0
  say "" "A garota se afasta de Daniel e vai embora."
  goto bad_end
endif

say "Daniel" "Como assim?"
say "Beatrice" "Olhe ao seu redor. Há muitos casais."
say "Daniel" "Hmmm...Você está certa."
say "Beatrice" "Estou particularmente interessada neste ritual estranho de movimento corporal."
say "Daniel" "Você quer dizer...dançar?"
say "Beatrice" "Afinal, qual é o propósito? Nós somos seres racionais. Não precisamos disso para escolher parceiros."
say "Daniel" "Acho que dançamos porque...é divertido?"
say "Beatrice" "Hmmmm..."
say "" "Beatrice observa as pessoas da festa por longos segundos."
say "Beatrice" "Então me ensine."
say "Daniel" "O quê?"
say "Beatrice" "Me ensine... a dançar."
say "Daniel" "E-eu não sou um dançarino particularmente bom."
say "Beatrice" "Eu não saberia notar a diferença."
say "Daniel" "Você vai notar quando eu pisar no seu pé!"
say "" "Daniel, vacilante, toma a iniciativa e dá alguns passos, remexendo o corpo. Beatrice acompanha como pode."
say "Daniel" "Nós dois somos terríveis."
say "Beatrice" "Definitivamente há margem para melhora."
fade_out 1.0
say "" "Os dois terminam a música, exaustos, mas felizes."
say "" "Eles vão para a sacada da casa para pegar um pouco de ar fresco."
fade_in 1.0
say "Daniel" "Foi divertido!"
say "Beatrice" "Nota: Trazer calçados mais resistentes a pisões e tropeços."
say "Daniel" "Ah, qualé, não foi tão ruim assim!"
say "" "Os dois riem."
say "Beatrice" "Acho que finalmente entendi... o que incentivava meu pai a trabalhar tão duro."
say "Beatrice" "Ele amava a ciência... mas ele amava as pessoas ainda mais."
say "Daniel" "Você sente falta dele?"
say "Beatrice" "Isso é.... irrelevante."
say "" "Daniel franze a sobrancelha, pensando no comentário de Beatrice."
say "Daniel" "Minha mãe, ela...era uma cozinheira de mão cheia. Todos os dias, quando eu acordava, o café da manhã estava pronto, fresquinho, na mesa da cozinha."
say "Beatrice" "..."
say "Daniel" "Quando ela morreu, eu... não conseguia aguentar o cheiro de pão fresco. Eu começava a chorar."
say "Beatrice" "P-porque você está me contando isso?"
say "Daniel" "Eu só estou dizendo que... não tem problema, sabe? Chorar."
say "Beatrice" "..."
say "" "Da sacada, o casal escuta outra música começando a tocar na festa. A canção é lenta, romântica. Daniel estende a mão para Beatrice."
say "Daniel" "Quer tentar de novo?"
say "Beatrice" "Repetir o experimento pode ser esclarecedor."
say "" "Daniel e Beatrice começam a dançar, sozinhos na sacada, iluminados pela luz da lua."
say "Beatrice" "Obrigada por me convidar, Daniel."
say "" "A garota chega mais perto."
say "Beatrice" "Foi muito...educativo."
say "" "Os dois dançam abraçados."


unlock_skill 12
add_exp false 150
goto end




waypoint ir_clara
set_current_couple 3
fade_out 1.0
wait 1.0
theater_setup main "person(daniel)" "out_left" claire "person(claire)" "grid_3" guy1 "valentao" "grid_4" guy2 "valentao" "grid_4"
actor_move guy 0.07 0 -0.4 0
actor_move guy2 -0.79 0 -0.34 0
actor_face guy2 "right"
move_camera -0.85 1.57 -4.5 0
actor_face main "right"
fade_in 1.0
actor_move main "grid_1" 1.5
wait 0.3

say "" "Daniel tira um pequeno presente do bolso e vai em direção ao grupo de Clara."
say "A garota está com a atenção focada nas outras pessoas e não percebe sua aproximação."
actor_move main -1.7 0.2 -0.4 1.5
say "Ele tenta se colocar dentro do círculo de pessoas discretamente, mas ninguém percebe sua presença lá."
say "Daniel" "(Droga...)"
say "" "Ele tenta acenar para a garota por cima do grupo e chamar seu nome baixinho."
if #currentRelationshipHeartLocksOpened < 0
//if #currentRelationshipHeartLocksOpened < 2
  say "" "...Mesmo assim ela não percebe a presença dele."
  goto bad_end
endif
say "Daniel" "Cla-Clara..."
say "" "...Mesmo assim ela não percebe a presença dele. Um dos garotos do lado dela, no entanto, percebe."
say "Rapaz" "Ei Clara, parece que o Biscoitinho aqui quer falar com você."
//say "" "Clara se vira para Daniel. Um outro rapaz continua:""
actor_face guy2 "left"
wait 0.5
say "Rapaz 2" "E por que ele veio? Por acaso alguém convidou ele pra festa?"
say "" "Daniel abaixa o rosto."
actor_face claire "left"
wait 0.5
say "Clara" "Eu convidei! Oi Daniel, vem cá."
say "" "Um rapaz põe a mão no ombro dela e fala:"
say "Rapaz" "Você tá andando com esse otário agora, Clarinha?"
say "Clara" "Para, não fala dele assim! Ele é legal!"
say "" "Daniel fala baixinho, cabisbaixo."
say "Daniel" "Desculpa, eu só vim... te desejar um feliz aniversário."
say "Rapaz" "Volta pra cozinha, cara! Vai brincar de fazer bolinho."
say "" "Após ouvir algumas risadas vindas do grupo, o garoto se vira para longe."
actor_face main "left"
wait 0.5
actor_move main "out_left" 2.5
say "Clara" "Espera, Daniel!"
say "" "Daniel cobre o rosto e sai andando apressado para longe no meio da multidão de pessoas."
fade_out 1.0
say "Desnorteado, ele acaba se perdendo pelos corredores da grande casa."
wait 2.5
actor_move guy1 "out_right" 0
actor_move guy2 "out_right" 0
actor_move main "grid_2" 0
actor_move claire "out_right" 0
move_camera "girl_interaction" 0
fade_music 0 1.5
fade_in 1.0

play_music "sad1_intro" "sad1_loop"
say "Após perambular por alguns minutos, ele entra em um banheiro que encontra pelo caminho. Em seguida, se senta no chão, chorando."
say "Daniel" "Estúpido! Estúpido! Como eu fui idiota de achar que eu teria alguma chance com a Clara..."
say "Ela é tão bonita e tão popular... Ela nunca ficaria com alguém como eu..."
say "" "Daniel escuta um barulho de batidas de leve na porta. Ele fica em silêncio."
//say "" "Em seguida, escuta o barulho da porta abrindo. Clara aparece de pé do lado de fora do banheiro."
say "" "Em seguida, escuta o barulho da porta abrindo."
actor_move claire "grid_3" 2.5
wait 2.5
say "Clara" "Daniel, tá tudo bem? Eu fiquei preocupada quando você saiu."
actor_face main "right"
wait 0.5
say "Daniel" "Clara?!"
say "Clara" "Você... tá chorando?"
//say "" "O garoto se vira para o lado, escondendo o rosto."
actor_face main "left"
wait 0.5
say "Daniel" "Eu... tô bem, não esquenta."
say "Clara" "Olha... Me desculpa. Eu devia ter te defendido mais cedo."
say "O pessoal é muito injusto às vezes, eles pegam muito pesado com você."
say "Daniel" "Tudo bem, eu tô acostumado..."
//say "" "Clara se abaixa e toca delicadamente o rosto de Daniel com uma mão, puxando-o para se virar para ela."
actor_move claire -0.9 0 -0.4 1.8
wait 1.5
say "Clara" "Mas... Eu fiquei muito feliz que você veio."
actor_face main "right"
wait 0.5
move_camera -1.09 1.57 -2.92 0.5
wait 0.4
say "Daniel" "Va-valeu."
say "" "Clara percebe o pequeno embrulho de presente no chão, ao lado do garoto."
say "Clara" "Você trouxe um presente pra mim?"
say "" "A garota, curiosa, pega o objeto."
say "Daniel" "Na-não é nada, esquece. É um presente idiota, você não vai querer isso."
say "Clara" "Como você sabe? Tá tão lindo o embrulho, deve ser algo legal."
say "Daniel" "É sério, por favor não abre..."
say "" "Clara abre o presente e encontra um gatinho artesanal, feito de meia."
say "Daniel" "Eu não tinha muito dinheiro pra te comprar algo, então resolvi fazer isso pra você."
say "Clara" "Que fofinho, eu adorei! Muito obrigada!"
say "Daniel" "É um presente bobo. Eu aprendi a fazê-lo na aula de trabalhos manuais."
say "Clara" "Não, eu gostei muito! Ele é especial pra mim porque foi você quem fez."
say "" "Daniel dá um sorriso."
actor_move claire -1.1 0.2 -0.4 1.0
wait 0.5
say "" " Clara o surpreende com um abraço."
say "Clara" "Você é muito gentil e atencioso, Daniel. Eu gosto muito disso em você."
actor_move claire -0.9 0 -0.4 1.8
say "" "O abraço caloroso de Clara acelera o coração de Daniel."
say "Após pensar em seus sentimentos por alguns segundos, ele fala:"
say "Daniel" "E-eu queria te dizer uma coisa."
say "Clara" "Pode falar."
wait 1
say "Daniel" "Pode ser inútil te falar isso agora, e talvez isso estrague as coisas entre a gente..."
say "Clara" "O... o que é?"
say "Daniel" "Eu sei que você é tão popular e eu sou o cara mais zoado no colégio... mas mesmo assim."
wait 1
say "Daniel" "A gente tá passando um tempo junto pra fazer o trabalho... e eu sei que isso vai acabar em breve."
say "Desde aquele dia na aula de culinária... Todas as vezes que eu te vejo, eu só penso em quanto você é incrível."
say "Então eu só queria te dizer... Antes que seja tarde demais..."
say "Que eu te amo."
say "" "A garota fica em silêncio por alguns segundos. As lágrimas não param de escorrer pelo rosto de Daniel."
wait 1
say "Clara" "É tarde demais."
say "Daniel" "O quê?"
say "Clara" "É tarde demais pra se preocupar com tudo isso agora."
say "Porque eu já gosto muito de você."

unlock_skill 12
add_exp false 150

say "Clara" "Eu não me importo se você é popular ou não. Você é muito mais gentil e atencioso que os outros garotos do colégio."
say "Portanto, fica comigo."
actor_move main -1.2 0.2 -0.4 1.0
actor_move claire -1.0 0.2 -0.4 1.0
say "" "Daniel e Clara se abraçam novamente."
wait 1.0
actor_move main -1.4 0.2 -0.4 1.0
actor_move claire -0.9 0 -0.4 1.8
goto end


waypoint bad_end
say "" "Daniel se sente mal e decide ir embora da festa."
goto end



waypoint end
fade_music 0 2
wait 3
goto_script "pass_time"
